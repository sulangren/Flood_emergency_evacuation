{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_input = _resolveComponent(\"a-input\");\n  const _component_a_form_item = _resolveComponent(\"a-form-item\");\n  const _component_a_input_password = _resolveComponent(\"a-input-password\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_form = _resolveComponent(\"a-form\");\n  const _component_a_card = _resolveComponent(\"a-card\");\n  const _component_a_layout_content = _resolveComponent(\"a-layout-content\");\n  const _component_a_layout = _resolveComponent(\"a-layout\");\n  return _openBlock(), _createBlock(_component_a_layout, {\n    class: \"layout\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_a_layout_content, {\n      style: {\n        \"padding\": \"24px\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_card, {\n        title: \"新用户注册\",\n        bordered: false\n      }, {\n        default: _withCtx(() => [_createVNode(_component_a_form, {\n          model: _ctx.registerForm,\n          rules: _ctx.rules,\n          onSubmit: _ctx.login\n        }, {\n          default: _withCtx(() => [_createVNode(_component_a_form_item, {\n            name: \"username\",\n            label: \"新用户名\",\n            labelCol: {\n              span: 24\n            },\n            wrapperCol: {\n              span: 24\n            },\n            hasFeedback: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_input, {\n              value: _ctx.registerForm.username,\n              \"onUpdate:value\": _cache[0] || (_cache[0] = $event => _ctx.registerForm.username = $event),\n              placeholder: \"请输入新用户名\"\n            }, null, 8 /* PROPS */, [\"value\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_a_form_item, {\n            name: \"password\",\n            label: \"密码\",\n            labelCol: {\n              span: 24\n            },\n            wrapperCol: {\n              span: 24\n            },\n            hasFeedback: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_input_password, {\n              value: _ctx.registerForm.password,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = $event => _ctx.registerForm.password = $event),\n              placeholder: \"请输入密码\"\n            }, null, 8 /* PROPS */, [\"value\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_a_form_item, {\n            name: \"confirm\",\n            label: \"确认密码\",\n            labelCol: {\n              span: 24\n            },\n            wrapperCol: {\n              span: 24\n            },\n            hasFeedback: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_input_password, {\n              value: _ctx.registerForm.confirm,\n              \"onUpdate:value\": _cache[2] || (_cache[2] = $event => _ctx.registerForm.confirm = $event),\n              placeholder: \"请确认密码\"\n            }, null, 8 /* PROPS */, [\"value\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_a_form_item, {\n            name: \"employeeKey\",\n            label: \"员工密钥（可选）\",\n            labelCol: {\n              span: 24\n            },\n            wrapperCol: {\n              span: 24\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_input, {\n              value: _ctx.registerForm.employeeKey,\n              \"onUpdate:value\": _cache[3] || (_cache[3] = $event => _ctx.registerForm.employeeKey = $event),\n              placeholder: \"请输入员工密钥\"\n            }, null, 8 /* PROPS */, [\"value\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_a_form_item, {\n            name: \"phone\",\n            label: \"手机号（可选）\",\n            labelCol: {\n              span: 24\n            },\n            wrapperCol: {\n              span: 24\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_input, {\n              value: _ctx.registerForm.phone,\n              \"onUpdate:value\": _cache[4] || (_cache[4] = $event => _ctx.registerForm.phone = $event),\n              placeholder: \"请输入手机号\"\n            }, null, 8 /* PROPS */, [\"value\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_a_form_item, {\n            wrapperCol: {\n              span: 24,\n              offset: 0\n            }\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_button, {\n              type: \"primary\",\n              htmlType: \"submit\"\n            }, {\n              default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"提交注册\")])),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_a_button, {\n              style: {\n                \"margin-left\": \"8px\"\n              },\n              onClick: _ctx.handleCancel\n            }, {\n              default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"取消注册\")])),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"model\", \"rules\", \"onSubmit\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_a_layout","class","default","_withCtx","_createVNode","_component_a_layout_content","style","_component_a_card","title","bordered","_component_a_form","model","_ctx","registerForm","rules","onSubmit","login","_component_a_form_item","name","label","labelCol","span","wrapperCol","hasFeedback","_component_a_input","value","username","_cache","$event","placeholder","_","_component_a_input_password","password","confirm","employeeKey","phone","offset","_component_a_button","type","htmlType","_createTextVNode","onClick","handleCancel"],"sources":["E:\\code\\Django\\project\\front\\front\\src\\components\\EnrollWindow.vue"],"sourcesContent":["<template>\r\n  <a-layout class=\"layout\">\r\n    <a-layout-content style=\"padding: 24px\">\r\n      <a-card title=\"新用户注册\" :bordered=\"false\">\r\n        <a-form :model=\"registerForm\" :rules=\"rules\" @submit=\"login\">\r\n          <a-form-item\r\n            name=\"username\"\r\n            label=\"新用户名\"\r\n            :labelCol=\"{ span: 24 }\"\r\n            :wrapperCol=\"{ span: 24 }\"\r\n            hasFeedback\r\n          >\r\n            <a-input\r\n              v-model:value=\"registerForm.username\"\r\n              placeholder=\"请输入新用户名\"\r\n            />\r\n          </a-form-item>\r\n          <a-form-item\r\n            name=\"password\"\r\n            label=\"密码\"\r\n            :labelCol=\"{ span: 24 }\"\r\n            :wrapperCol=\"{ span: 24 }\"\r\n            hasFeedback\r\n          >\r\n            <a-input-password\r\n              v-model:value=\"registerForm.password\"\r\n              placeholder=\"请输入密码\"\r\n            />\r\n          </a-form-item>\r\n          <a-form-item\r\n            name=\"confirm\"\r\n            label=\"确认密码\"\r\n            :labelCol=\"{ span: 24 }\"\r\n            :wrapperCol=\"{ span: 24 }\"\r\n            hasFeedback\r\n          >\r\n            <a-input-password\r\n              v-model:value=\"registerForm.confirm\"\r\n              placeholder=\"请确认密码\"\r\n            />\r\n          </a-form-item>\r\n          <a-form-item\r\n            name=\"employeeKey\"\r\n            label=\"员工密钥（可选）\"\r\n            :labelCol=\"{ span: 24 }\"\r\n            :wrapperCol=\"{ span: 24 }\"\r\n          >\r\n            <a-input\r\n              v-model:value=\"registerForm.employeeKey\"\r\n              placeholder=\"请输入员工密钥\"\r\n            />\r\n          </a-form-item>\r\n          <a-form-item\r\n            name=\"phone\"\r\n            label=\"手机号（可选）\"\r\n            :labelCol=\"{ span: 24 }\"\r\n            :wrapperCol=\"{ span: 24 }\"\r\n          >\r\n            <a-input\r\n              v-model:value=\"registerForm.phone\"\r\n              placeholder=\"请输入手机号\"\r\n            />\r\n          </a-form-item>\r\n          <a-form-item :wrapperCol=\"{ span: 24, offset: 0 }\">\r\n            <a-button type=\"primary\" htmlType=\"submit\">提交注册</a-button>\r\n            <a-button style=\"margin-left: 8px\" @click=\"handleCancel\"\r\n              >取消注册</a-button\r\n            >\r\n          </a-form-item>\r\n        </a-form>\r\n      </a-card>\r\n    </a-layout-content>\r\n  </a-layout>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { defineComponent, reactive } from \"vue\";\r\nimport { Form, Input, Button, Card, Layout } from \"ant-design-vue\";\r\n// import { reactive } from \"vue\";\r\nexport default defineComponent({\r\n  components: {\r\n    \"a-layout\": Layout,\r\n    \"a-layout-content\": Layout.Content,\r\n    \"a-card\": Card,\r\n    \"a-form\": Form,\r\n    \"a-form-item\": Form.Item,\r\n    \"a-input\": Input,\r\n    \"a-input-password\": Input.Password,\r\n    \"a-button\": Button,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      registerForm: reactive({\r\n        username: \"\",\r\n        password: \"\",\r\n        confirm: \"\",\r\n        employeeKey: \"\",\r\n        phone: \"\",\r\n      }),\r\n      rules: {\r\n        username: [\r\n          {\r\n            required: false,\r\n            message: \"请输入用户名\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: false,\r\n            message: \"请输入密码\",\r\n            pattern: /^\\S{6,16}$/,\r\n          },\r\n        ],\r\n        confirm: [\r\n          { required: false, message: \"请确认密码\", trigger: \"blur\" },\r\n          {\r\n            validator(_, value) {\r\n              if (!value || value === this.registerForm.password) {\r\n                return Promise.resolve();\r\n              }\r\n              return Promise.reject(new Error(\"两次输入的密码不一致\"));\r\n            },\r\n          },\r\n        ],\r\n        employeeKey: [{ required: false }],\r\n        phone: [\r\n          {\r\n            required: false,\r\n            pattern: /^\\S{5,9}$/,\r\n            message: \"请输入正确的手机号\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleCancel() {\r\n      this.$router.push(\"/\");\r\n      this.isModalVisible = false; // 关闭模态框\r\n    },\r\n    login() {\r\n      const loginData = {\r\n        username: this.registerForm.username,\r\n        password: this.registerForm.password,\r\n        employeeKey: this.registerForm.employeeKey,\r\n        phone: this.registerForm.phone,\r\n      };\r\n      console.log(\"Username:\", this.form.username);\r\n      console.log(\"Password:\", this.form.password);\r\n      console.log(\"EmployeeKey:\", this.form.password);\r\n      console.log(\"Phone:\", this.form.password);\r\n      axios\r\n        .post(\"\", loginData)\r\n        .then((response) => {\r\n          // 处理登录成功，例如保存token\r\n          localStorage.setItem(\"token\", response.data.token);\r\n          // 跳转到主页或其他页面\r\n          this.$router.push(\"/home\");\r\n        })\r\n        .catch((error) => {\r\n          // 处理错误\r\n          console.error(\"登录失败\", error);\r\n        });\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.layout {\r\n  height: 100vh;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}